jQuery(document).ready(function($){"use strict";woocommerce_multi_currency_switcher.use_session=_woocommerce_multi_currency_params.use_session,woocommerce_multi_currency_switcher.ajax_url=_woocommerce_multi_currency_params.ajax_url,woocommerce_multi_currency_switcher.switch_by_js=_woocommerce_multi_currency_params.switch_by_js,woocommerce_multi_currency_switcher.init(),jQuery(document.body).on("wmc_cache_compatible_finish",function(){jQuery(".wmc-currency-loading").removeClass("wmc-currency-loading"),jQuery(".wmc-select-currency-js").prop("disabled",!1),1==_woocommerce_multi_currency_params.do_not_reload_page&&("undefined"!=typeof wc_checkout_params&&1===parseInt(wc_checkout_params.is_checkout)&&jQuery(document.body).trigger("update_checkout"),"undefined"!=typeof wc_add_to_cart_params&&1===parseInt(wc_add_to_cart_params.is_cart)&&jQuery('[name="update_cart"]').prop("disabled",!1).trigger("click"))}),jQuery(document.body).on("wc_fragments_refreshed",function(a){})}),window.woocommerce_multi_currency_switcher={use_session:0,ajax_url:"",switch_by_js:"",init:function(){jQuery("body").on("click",".wmc-currency-redirect",function(e){let a=jQuery(this),f=a.closest(".wmc-currency"),b=a.closest(".woocommerce-multi-currency");if(f.hasClass("wmc-active"))return e.preventDefault(),!1;if(e.stopPropagation(),woocommerce_multi_currency_switcher.switch_by_js&&(e.preventDefault(),wmcSwitchCurrency(a)),b.hasClass("wmc-currency-trigger-click")){let c=b.find(".wmc-current-currency"),d=b.find(".wmc-current-currency-arrow");0===d.length&&(d=b.find(".wmc-open-dropdown-currencies")),a.closest(".wmc-sub-currency").find(".wmc-hidden").removeClass("wmc-hidden"),f.addClass("wmc-hidden"),b.hasClass("wmc-price-switcher")?(c.html(a.html()),c.find(".wmc-price-switcher-code,.wmc-price-switcher-price").remove()):("layout10"===b.data("layout")?(c.find(".vi-flag-64").replaceWith(a.find(".vi-flag-64")),jQuery(".wmc-text").attr("class",`wmc-text wmc-text-${a.data("currency")}`).html(`<span class="wmc-text-currency-text">(${a.data("currency")})</span>${a.data("currency_symbol")}`)):c.html(a.html()),d.length>0&&c.append(d)),a.closest(".wmc-currency-trigger-click-active").removeClass("wmc-currency-trigger-click-active")}}),jQuery(".wmc-select-currency-js").on("change",function(a){a.preventDefault(),woocommerce_multi_currency_switcher.switch_by_js?wmcSwitchCurrency(jQuery(this)):parseInt(_woocommerce_multi_currency_params.posts_submit)>0?window.location.href=jQuery(this).val():(window.history.replaceState({},"",jQuery(this).val()),window.location.reload())})},setCookie:function(b,c,d){var a=new Date;a.setTime(a.getTime()+1e3*d);var e="expires="+a.toUTCString();document.cookie=b+"="+c+";"+e+";path=/"},getCookie:function(e){for(var c=e+"=",d=decodeURIComponent(document.cookie).split(";"),b=0;b<d.length;b++){for(var a=d[b];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(c))return a.substring(c.length,a.length)}return""},reload:function(){let a=new URL(window.location.href);parseInt(_woocommerce_multi_currency_params.posts_submit)>0?(a.searchParams.delete("wmc-currency"),window.location.href=a.href.replace(a.hash,"")):(a.searchParams.get("wmc-currency")&&(a.searchParams.delete("wmc-currency"),window.history.replaceState({},"",a.href)),window.location.reload())}};var wmcSwitchCurrency=function(a){let c=a.closest(".woocommerce-multi-currency"),b="";!c.hasClass("wmc-currency-loading")&&(b=a.is(".wmc-select-currency-js")?a.val():a.data("currency"))&&(c.addClass("wmc-currency-loading"),a.is(".wmc-select-currency-js")&&c.prop("disabled",!0),1==woocommerce_multi_currency_switcher.use_session?jQuery.ajax({type:"GET",data:"action=wmc_currency_switcher&wmc-currency="+b,url:woocommerce_multi_currency_switcher.ajax_url,xhrFields:{withCredentials:!0},success:function(a){"undefined"==typeof wc_cart_fragments_params||null===wc_cart_fragments_params||sessionStorage.removeItem(wc_cart_fragments_params.fragment_name),1==_woocommerce_multi_currency_params.do_not_reload_page?(window.woocommerce_multi_currency.cacheCompatible(),jQuery(document.body).trigger("wc_fragment_refresh")):jQuery.when(jQuery(document.body).trigger("wc_fragment_refresh")).done(function(){woocommerce_multi_currency_switcher.reload()})},error:function(a){},complete:function(){1!=_woocommerce_multi_currency_params.do_not_reload_page&&(jQuery(".wmc-currency-loading").removeClass("wmc-currency-loading"),jQuery(".wmc-select-currency-js").prop("disabled",!1))}}):(woocommerce_multi_currency_switcher.setCookie("wmc_current_currency",b,86400),woocommerce_multi_currency_switcher.setCookie("wmc_current_currency_old",b,86400),jQuery(document.body).trigger("wmc_switch_currency_by_js_set_cookie",b),"undefined"==typeof wc_cart_fragments_params||null===wc_cart_fragments_params||sessionStorage.removeItem(wc_cart_fragments_params.fragment_name),1==_woocommerce_multi_currency_params.do_not_reload_page?(window.woocommerce_multi_currency.cacheCompatible(),jQuery(document.body).trigger("wc_fragment_refresh")):jQuery.when(jQuery(document.body).trigger("wc_fragment_refresh")).done(function(){jQuery(".wmc-currency-loading").removeClass("wmc-currency-loading"),woocommerce_multi_currency_switcher.reload()})))}