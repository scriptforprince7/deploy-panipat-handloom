!function(o){var e=o("#minimog-register-form"),n=e.find("#ip_reg-url-alart"),r=e.find("#ip_reg_seller_url"),i={init:function(){o(".form-user-role input[type=radio]",e).on("change",this.showSellerFields),o("#ip_reg_shop_phone",e).on("keydown",this.ensurePhoneNumber),o("#ip_reg_company_name",e).on("focusout",this.generateSlugFromCompany),r.on("keydown",this.constrainSlug),r.on("keyup",this.renderUrl)},showSellerFields:function(){var e=o(this).val(),n=o(this).closest("form");"seller"===e?n.find(".show-if-seller").removeClass("display-none"):n.find(".show-if-seller").addClass("display-none")},ensurePhoneNumber:function(e){-1!==o.inArray(e.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==e.keyCode&&!0===e.ctrlKey||35<=e.keyCode&&e.keyCode<=39||e.shiftKey&&"."===e.key||e.shiftKey&&!isNaN(Number(e.key))||isNaN(Number(e.key))&&e.preventDefault()},generateSlugFromCompany:function(){var e=getSlug(o(this).val());r.val(e),n.text(e),r.focus()},constrainSlug:function(e){o(this).val();-1!==o.inArray(e.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==e.keyCode&&!0===e.ctrlKey||35<=e.keyCode&&e.keyCode<=39||(e.shiftKey||(e.keyCode<65||90<e.keyCode)&&(e.keyCode<48||57<e.keyCode))&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()},renderUrl:function(){n.text(o(this).val())}};o(function(){i.init()})}(jQuery);