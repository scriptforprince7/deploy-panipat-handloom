!function(u){"use strict";u.fn.MinimogNiceSelect=function(h){var d="focused",r="selected",o={height:190,width:200};return this.each(function(){var e,t=u(this),i=u(this).data("select")?u(this).data("select"):{},s=u.extend(o,h,i),i=s.fieldLabel?'<span class="label">'+s.fieldLabel+"</span>":"",a=u('<div class="minimog-nice-select-current">'+i+'<span class="value"></span></div>'),n=u('<ul class="minimog-nice-select"></ul>'),l="",c=(t.children("option").each(function(){var e="item";u(this).is(":selected")&&(a.find(".value").text(u(this).text()),e+=" "+r),l+='<li class="'+e+'" data-value="'+u(this).val()+'">'+u(this).text()+"</li>"}),n.html(l),u('<div class="minimog-nice-select-wrap"></div>')),i=(c.append(a).append(n),n.width(s.width),setTimeout(function(){n.height(Math.min(s.height,n.height()))},100),a.on("click",function(){c.toggleClass(d)}),c.on("click","li",function(){c.removeClass(d),u(this).hasClass(r)||(u(this).siblings().removeClass(r),u(this).addClass(r),a.find(".value").text(u(this).text()),t.val(u(this).data("value")),t.trigger("change"))}),u(document).on("click touchstart",function(e){0===u(e.target).closest(c).length&&c.removeClass(d)}),!1);s.renderTarget&&0<(e="object"==typeof s.renderTarget?s.renderTarget:u(s.renderTarget)).length&&(e.append(c),i=!0),!1===i&&t.after(c),t.hide()})}}(jQuery);